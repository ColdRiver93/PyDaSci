$
Ejemplo DSL PyDaSci
Creado por: Juan Riofrio
$

$TIME SERIES$
$IPC Ecuador$
tserie = [67.12, 67.3, 67.48, 68.05, 68.17, 68.21, 68.11, 68.01, 68.5, 68.74, 68.85, 69.06, 69.39, 69.88, 70.33, 70.38, 70.28, 70.12, 70.14, 70.29, 70.7, 70.94, 71.06, 71.04, 71.25, 71.3, 71.37, 71.36, 71.38, 71.66, 71.96, 72.01, 72.52, 72.62, 72.98, 73.4, 74.23, 74.94, 76.04, 77.2, 78.01, 78.6, 79.06, 79.23, 79.75, 79.77, 79.64, 79.88, 80.44, 80.82, 81.7, 82.23, 82.23, 82.17, 82.11, 81.86, 82.37, 82.57, 82.85, 83.32, 84.01, 84.3, 84.44, 84.87, 84.89, 84.88, 84.9, 84.99, 85.21, 85.42, 85.65, 86.09, 86.68, 87.16, 87.45, 88.17, 88.48, 88.51, 88.67, 89.1, 89.8, 90.12, 90.39, 90.75, 91.27, 91.98, 92.8, 92.95, 92.77, 92.93, 93.18, 93.45, 94.49, 94.58, 94.71, 94.53, 95.01, 95.18, 95.6, 95.77, 95.56, 95.42, 95.41, 95.57, 96.11, 96.51, 96.89, 97.08, 97.78, 97.89, 98.57, 98.86, 98.82, 98.93, 99.33, 99.53, 100.14, 100.35, 100.53, 100.64, 101.24, 101.86, 102.28, 103.14, 103.32, 103.74, 103.66, 103.66, 103.93, 103.84, 103.95, 104.05, 104.37, 104.51, 104.65, 104.97, 105.01, 105.38, 105.29, 105.12, 105.28, 105.2, 105.04, 105.21, 105.3, 105.51, 105.66, 106.12, 106.17, 105.55, 105.4, 105.42, 105.26, 105.1, 104.82, 105.0, 105.2, 105.37, 105.43, 105.29, 105.09, 104.81, 104.8, 105.08, 105.5, 105.45, 105.18, 105.28, 105.77, 105.53, 105.31, 105.49, 105.48, 105.45];
PRINT 'Imprimiendo Time Serie';
PRINT tserie;

$Estadisticas TS$
STATS tserie;

$Entrenar Modelos Forecasting$
sar = SARIMA(tserie (1,1,1) (1,2,1,12));
sar2 = SARIMA(tserie (2,2,4) (0,0,0,0));
es = EXPSM(tserie add False add 12);

$Predicciones TS$
predict = FORECAST sar 12;
predict1 = FORECAST sar2 12;
predict2 = FORECAST es 12;

$Mostrar resultados$
PRINT 'Imprimiendo Predicciones';
PRINT predict;
PRINT predict1;
PRINT predict2;

$Plotear resultados$
PLOT tserie 'IPC Time Serie';
C_PLOT predict predict1 predict2 'Predicciones IPC';


$CLUSTERING$
$COVID por paises$
mat = [[38742911.0, 652860.0, 20.682, 74.79, 7072.0, 801.0, 173.0], [2878420.0, 27400.0, 17.21, 38.08, 948.0, 727.0, 31.0], [43685618.0, 2381740.0, 193.0, 638.36, 7201.0, 3625.0, 555.0], [32644783.0, 1246700.0, 96.426, 199.33, 50.0, 17.0, 3.0], [97764.0, 440.0, 1.809, 2.51, 25.0, 19.0, 3.0], [45111229.0, 2736690.0, 515.0, 864.89, 8371.0, 2625.0, 382.0], [2962137.0, 28470.0, 13.868, 33.14, 4823.0, 2019.0, 61.0], [25439164.0, 7682300.0, 1480.0, 1279.36, 7068.0, 6413.0, 99.0], [8996022.0, 82409.0, 482.0, 446.27, 16269.0, 14614.0, 629.0], [10120555.0, 82658.0, 47.429, 184.42, 3387.0, 2055.0, 40.0], [1688629.0, 760.0, 40.707, 74.65, 7184.0, 2931.0, 12.0], [164354176.0, 130170.0, 343.0, 860.92, 23870.0, 4585.0, 349.0], [287305.0, 430.0, 5.339, 5.05, 88.0, 68.0, 7.0], [9449940.0, 202910.0, 63.664, 184.59, 30572.0, 10130.0, 171.0], [11579477.0, 30280.0, 554.0, 536.62, 55559.0, 14657.0, 9080.0], [396120.0, 22810.0, 2.071, 2.97, 18.0, 16.0, 2.0], [12055347.0, 112760.0, 12.129, 42.75, 339.0, 83.0, 2.0], [769867.0, 38117.0, 2.939, 8.2, 21.0, 5.0, 0.0], [11640159.0, 1083300.0, 47.052, 91.23, 4263.0, 503.0, 174.0], [3284806.0, 51000.0, 21.343, 47.54, 2304.0, 1464.0, 133.0], [2341649.0, 566730.0, 20.873, 41.81, 25.0, 17.0, 1.0], [212253150.0, 8358140.0, 2060.0, 3316.92, 255368.0, 100459.0, 16853.0], [6958627.0, 108560.0, 71.746, 165.13, 2235.0, 612.0, 110.0], [20780371.0, 273600.0, 16.266, 48.55, 796.0, 652.0, 51.0], [54366792.0, 653290.0, 71.403, 366.08, 191.0, 101.0, 6.0], [11814346.0, 25680.0, 3.714, 8.28, 42.0, 20.0, 1.0], [16671185.0, 176520.0, 29.309, 76.22, 122.0, 122.0, 0.0], [26405174.0, 472710.0, 42.047, 100.01, 3529.0, 1567.0, 140.0], [37674770.0, 9093510.0, 1830.0, 1797.17, 79411.0, 39251.0, 5960.0], [4812256.0, 622980.0, 2.485, 4.27, 327.0, 13.0, 0.0], [16324440.0, 1259200.0, 12.547, 32.07, 519.0, 117.0, 53.0], [19082804.0, 743532.0, 314.0, 475.96, 46059.0, 20165.0, 478.0], [1438207241.0, 9388211.0, 15500.0, 27804.95, 84063.0, 79310.0, 4638.0], [50771878.0, 1109500.0, 353.0, 771.96, 16295.0, 3903.0, 592.0], [865696.0, 1861.0, 0.773, 2.52, 11.0, 3.0, 1.0], [5225918.0, 342000.0, 11.367, 30.7, 412.0, 110.0, 15.0], [89969947.0, 2344860.0, 52.475, 81.81, 1538.0, 272.0, 61.0], [5084636.0, 51060.0, 63.46, 89.6, 866.0, 575.0, 10.0], [26239250.0, 318000.0, 49.882, 163.59, 2119.0, 1040.0, 28.0], [4110214.0, 55960.0, 64.59, 103.11, 2228.0, 1946.0, 95.0], [1205577.0, 9240.0, 26.348, 34.75, 917.0, 515.0, 17.0], [10705012.0, 77240.0, 260.0, 388.59, 8586.0, 5641.0, 297.0], [5788108.0, 42430.0, 365.0, 300.62, 11166.0, 9499.0, 548.0], [985027.0, 23180.0, 2.599, 6.36, 1518.0, 1018.0, 7.0], [71950.0, 750.0, 0.59, 0.81, 16.0, 16.0, 0.0], [10825682.0, 48320.0, 90.459, 198.73, 12725.0, 6613.0, 434.0], [17587526.0, 248360.0, 108.0, 192.06, 33582.0, 3433.0, 2799.0], [101930276.0, 995450.0, 331.0, 1427.43, 12764.0, 3440.0, 645.0], [6479609.0, 20720.0, 28.202, 52.89, 1413.0, 474.0, 30.0], [1392950.0, 28050.0, 12.263, 26.83, 719.0, 22.0, 7.0], [3536285.0, 101000.0, 8.116, 6.64, 39.0, 39.0, 0.0], [1326357.0, 42390.0, 33.235, 44.5, 1784.0, 938.0, 64.0], [114357494.0, 1000000.0, 99.371, 253.1, 352.0, 116.0, 5.0], [895128.0, 18270.0, 5.671, 10.08, 18.0, 15.0, 0.0], [5539002.0, 303890.0, 289.0, 251.43, 6380.0, 5000.0, 300.0], [65244628.0, 547557.0, 2880.0, 2860.02, 180051.0, 61843.0, 28242.0], [2214593.0, 257670.0, 17.893, 39.58, 1432.0, 301.0, 11.0], [3990681.0, 69490.0, 18.888, 46.29, 701.0, 432.0, 12.0], [83730223.0, 348560.0, 4160.0, 4160.93, 176551.0, 155041.0, 8003.0], [30936375.0, 227540.0, 72.264, 209.18, 5735.0, 1754.0, 29.0], [10433037.0, 128900.0, 231.0, 293.01, 2836.0, 1374.0, 165.0], [112418.0, 340.0, 1.33, 1.68, 22.0, 14.0, 0.0], [17846248.0, 107160.0, 87.629, 150.73, 1912.0, 138.0, 35.0], [13056478.0, 245720.0, 13.603, 34.59, 2796.0, 1263.0, 16.0], [1958132.0, 28120.0, 1.669, 3.66, 1032.0, 38.0, 4.0], [785788.0, 196850.0, 4.609, 10.99, 124.0, 44.0, 10.0], [11373955.0, 27560.0, 9.648, 20.14, 533.0, 21.0, 21.0], [9871892.0, 111890.0, 25.56, 50.5, 2798.0, 340.0, 146.0], [9665192.0, 90530.0, 178.0, 327.41, 3535.0, 1400.0, 462.0], [340795.0, 100250.0, 26.821, 18.72, 1802.0, 1786.0, 10.0], [1377233523.0, 2973190.0, 3260.0, 11321.28, 100328.0, 39233.0, 3156.0], [272931713.0, 1811570.0, 1210.0, 3778.13, 18010.0, 4324.0, 1191.0], [83771587.0, 1628550.0, 496.0, 1411.09, 122492.0, 95661.0, 7057.0], [40031626.0, 434320.0, 247.0, 679.1, 3554.0, 2310.0, 127.0], [4926480.0, 68890.0, 405.0, 392.01, 24200.0, 19470.0, 1547.0], [8627444.0, 21640.0, 404.0, 334.68, 16643.0, 13253.0, 276.0], [60479424.0, 294140.0, 2090.0, 2244.77, 225886.0, 127326.0, 32007.0], [2958567.0, 10830.0, 16.717, 26.52, 520.0, 131.0, 9.0], [126552765.0, 364555.0, 5500.0, 5451.45, 16305.0, 11564.0, 749.0], [10182442.0, 88780.0, 46.451, 93.26, 629.0, 413.0, 9.0], [18730568.0, 2699700.0, 177.0, 530.65, 6751.0, 3469.0, 35.0], [53521116.0, 569140.0, 109.0, 194.4, 912.0, 336.0, 50.0], [51260395.0, 97230.0, 1740.0, 2307.72, 11078.0, 9938.0, 263.0], [4257495.0, 17820.0, 143.0, 307.19, 15691.0, 4339.0, 118.0], [1890218.0, 62200.0, 38.102, 54.7, 1009.0, 662.0, 19.0], [6831445.0, 10230.0, 60.62, 74.63, 931.0, 251.0, 26.0], [2138799.0, 30360.0, 2.892, 6.59, 1.0, 0.0, 0.0], [5032469.0, 96320.0, 3.217, 6.16, 229.0, 123.0, 22.0], [6852010.0, 1759540.0, 50.424, 34.75, 65.0, 35.0, 3.0], [2729553.0, 62674.0, 57.602, 95.29, 1547.0, 997.0, 59.0], [623861.0, 2590.0, 73.693, 65.87, 3947.0, 3715.0, 107.0], [27539106.0, 581795.0, 13.542, 53.41, 322.0, 119.0, 1.0], [19024426.0, 94280.0, 7.861, 25.57, 70.0, 27.0, 3.0], [32280610.0, 328550.0, 402.0, 1064.8, 6941.0, 5615.0, 113.0], [538558.0, 300.0, 6.213, 7.84, 1106.0, 58.0, 4.0], [20125282.0, 1220190.0, 19.332, 48.44, 874.0, 512.0, 52.0], [441308.0, 320.0, 16.338, 22.5, 558.0, 456.0, 6.0], [4623535.0, 1030700.0, 5.697, 25.11, 81.0, 7.0, 4.0], [1271347.0, 2030.0, 15.757, 29.63, 332.0, 322.0, 10.0], [128655589.0, 1943950.0, 1300.0, 2458.34, 51633.0, 35388.0, 5332.0], [4035814.0, 32850.0, 12.793, 26.64, 6138.0, 2425.0, 217.0], [3267320.0, 1553560.0, 14.96, 46.55, 140.0, 24.0, 0.0], [628050.0, 13450.0, 5.74, 11.55, 324.0, 311.0, 9.0], [36820713.0, 446300.0, 129.0, 317.0, 6952.0, 3758.0, 192.0], [31067362.0, 786380.0, 16.294, 45.99, 145.0, 44.0, 0.0], [2531290.0, 823290.0, 14.627, 26.26, 16.0, 13.0, 0.0], [29027347.0, 143350.0, 33.035, 97.37, 375.0, 36.0, 2.0], [17127290.0, 33720.0, 955.0, 935.91, 44341.0, 167.0, 5713.0], [4814272.0, 263310.0, 225.0, 194.92, 1499.0, 1433.0, 21.0], [6608366.0, 120340.0, 12.459, 32.99, 25.0, 7.0, 8.0], [24014064.0, 1266700.0, 10.628, 35.21, 909.0, 714.0, 55.0], [205052107.0, 910770.0, 496.0, 1181.4, 6175.0, 1644.0, 191.0], [5412632.0, 365268.0, 439.0, 384.3, 8257.0, 32.0, 233.0], [5078933.0, 309500.0, 84.158, 200.2, 5379.0, 1496.0, 25.0], [219992900.0, 770880.0, 284.214, 1190.56, 42125.0, 11922.0, 903.0], [4300667.0, 74340.0, 75.494, 110.4, 9726.0, 6081.0, 279.0], [8911530.0, 452860.0, 22.114, 34.5, 8.0, 8.0, 0.0], [7114524.0, 397300.0, 45.376, 95.95, 788.0, 219.0, 11.0], [32876986.0, 1280000.0, 244.0, 457.32, 94933.0, 30306.0, 2789.0], [109280343.0, 298170.0, 389.0, 1040.41, 12718.0, 2729.0, 831.0], [37854825.0, 306230.0, 643.0, 1236.13, 18885.0, 7628.0, 936.0], [10202571.0, 91590.0, 250.0, 321.2, 29209.0, 6430.0, 1231.0], [2870922.0, 11610.0, 204.0, 345.46, 33969.0, 4899.0, 15.0], [19262731.0, 230170.0, 263.0, 525.05, 17036.0, 9930.0, 1120.0], [145922010.0, 16376870.0, 1670.0, 4176.35, 290678.0, 70209.0, 2722.0], [12883878.0, 24670.0, 11.062, 32.26, 297.0, 203.0, 0.0], [33917.0, 60.0, 1.672, 1.84, 654.0, 203.0, 41.0], [34701377.0, 2149690.0, 790.0, 1869.29, 57345.0, 28748.0, 320.0], [16649599.0, 192530.0, 28.062, 66.44, 2544.0, 1076.0, 26.0], [8744288.0, 87460.0, 56.886, 127.1, 10699.0, 4799.0, 231.0], [98224.0, 460.0, 1.739, 2.75, 11.0, 11.0, 0.0], [7942879.0, 72180.0, 4.221, 12.87, 519.0, 148.0, 33.0], [5840996.0, 700.0, 392.0, 576.84, 28343.0, 9835.0, 22.0], [5459116.0, 48088.0, 117.0, 187.26, 1495.0, 1185.0, 28.0], [2078881.0, 20140.0, 58.213, 73.28, 1466.0, 1335.0, 104.0], [15798020.0, 627340.0, 8.341, 12.42, 1455.0, 163.0, 57.0], [59154802.0, 1213090.0, 387.0, 762.83, 16433.0, 7298.0, 286.0], [11166783.0, 610952.0, 2.796, 23.32, 290.0, 4.0, 4.0], [46751175.0, 498800.0, 1500.0, 1781.0, 231606.0, 150376.0, 27709.0], [21395196.0, 62710.0, 89.942, 304.46, 992.0, 559.0, 9.0], [585561.0, 156000.0, 3.919, 8.96, 11.0, 9.0, 1.0], [10086531.0, 410340.0, 577.0, 529.78, 30377.0, 4971.0, 3698.0], [8641786.0, 39516.0, 741.0, 535.83, 30597.0, 27600.0, 1886.0], [23808164.0, 35410.0, 634.0, 1293.97, 440.0, 398.0, 7.0], [9492342.0, 139960.0, 7.838, 34.69, 1729.0, 0.0, 41.0], [59368313.0, 885800.0, 64.888, 198.65, 509.0, 183.0, 21.0], [69764925.0, 510890.0, 547.0, 1293.92, 3031.0, 2857.0, 56.0], [1313184.0, 14870.0, 3.413, 2.61, 24.0, 24.0, 0.0], [8237580.0, 54390.0, 6.132, 15.22, 330.0, 106.0, 12.0], [1398579.0, 5130.0, 23.235, 43.18, 116.0, 107.0, 8.0], [11793319.0, 155360.0, 35.15, 143.23, 1043.0, 819.0, 46.0], [84153250.0, 769630.0, 810.0, 2257.99, 150593.0, 111577.0, 4171.0], [330610570.0, 9147420.0, 22200.0, 20289.99, 1508308.0, 283178.0, 90347.0], [45427637.0, 199810.0, 33.62, 123.65, 248.0, 63.0, 0.0], [43785122.0, 579320.0, 147.0, 380.55, 18616.0, 5276.0, 535.0], [9865845.0, 83600.0, 449.0, 722.67, 24190.0, 9577.0, 224.0], [67814098.0, 241930.0, 2930.0, 2975.56, 247709.0, 1090.0, 34876.0], [3471314.0, 175020.0, 63.421, 80.82, 737.0, 569.0, 20.0], [33368859.0, 425400.0, 55.482, 310.74, 2791.0, 2314.0, 13.0], [97160127.0, 310070.0, 282.0, 1035.05, 324.0, 263.0, 0.0], [29687214.0, 527970.0, 31.385, 70.41, 130.0, 1.0, 20.0], [18273379.0, 743390.0, 25.272, 73.66, 761.0, 192.0, 7.0], [14818157.0, 386850.0, 25.812, 37.04, 46.0, 18.0, 4.0]];
PRINT 'Imprimiendo Matriz';
PRINT mat;

$Estadisticas Matriz$
STATS mat;

$Crear Modelos Clustering$
km = KMEANS(mat 5);
gauss = GAUSSIAN(mat 5);

aggl = AGGLOMERATIVE(5);
spec = SPECTRAL(5);

$Predicciones Clustering$
ndata = [[14818167.0, 386840.0, 25.812, 37.04, 48.0, 19.0, 4.0]];
PRINT 'Nueva data';
PRINT ndata;

kmclusters = PREDICT km mat;
PRINT 'KMeans clustering';
PRINT kmclusters;
kmclusters2 = PREDICT km ndata;
PRINT kmclusters2;

gaussclusters = PREDICT gauss mat;
PRINT 'Gaussian Mixture Clustering';
PRINT gaussclusters;
gaussclusters2 = PREDICT gauss ndata;
PRINT gaussclusters2;

agglclusters = PREDICT2 aggl mat;
PRINT 'Agglomerative Clustering';
PRINT agglclusters;

specclusters = PREDICT2 spec mat;
PRINT 'Spectral Clustering';
PRINT specclusters;

$Partition$
nTserie= tserie[0:5];
PRINT 'Partition';
PRINT nTserie;

nMat = mat[3];
PRINT 'Partition 2';
PRINT nMat;

nMat2 = mat[100:103];
PRINT 'Partition 3';
PRINT nMat2;

nMat3 = mat[-1][4:7];
PRINT 'Partition 4';
PRINT nMat3;

nMat4 = mat[0:2][4:7];
PRINT 'Partition 5';
PRINT nMat4;

$Extension$
eTserie = tserie + nTserie;
PRINT 'Extended time serie';
PRINT eTserie;

eMat = mat + nMat2;
PRINT 'Extended matrix';
PRINT eMat;